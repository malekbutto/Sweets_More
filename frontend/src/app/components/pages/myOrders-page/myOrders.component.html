<h3>My Orders</h3>

<table>
  <tr colspan="2">
    <td><strong> # </strong></td>
    <td>
      <strong> Name </strong>
    </td>
    <td (click)="onSort('address')">
      <strong>
        Address
        <span *ngIf="sortBy === 'address'">
          {{ sortDirection === "asc" ? "▲" : "▼" }}
        </span>
      </strong>
    </td>
    <td (click)="onSort('orderNumber')">
      <strong>
        Order Number
        <span *ngIf="sortBy === 'orderNumber'">
          {{ sortDirection === "asc" ? "▲" : "▼" }}
        </span>
      </strong>
    </td>
    <td>
      <strong> Items <br />(Quantity)</strong>
    </td>
    <td (click)="onSort('totalPrice')">
      <strong>
        Total Price
        <span *ngIf="sortBy === 'totalPrice'">
          {{ sortDirection === "asc" ? "▲" : "▼" }}
        </span>
      </strong>
    </td>
    <td (click)="onSort('createdAt')">
      <strong>
        Created At
        <span *ngIf="sortBy === 'createdAt'">
          {{ sortDirection === "asc" ? "▲" : "▼" }}
        </span>
      </strong>
    </td>
    <td>
      <strong> Manage </strong>
    </td>
  </tr>
  <tr *ngFor="let order of filteredOrders; let i = index">
    <td>
      {{ i + 1 }}
    </td>
    <td>
      {{ order.name }}
    </td>
    <td>
      {{ order.address }}
      <div class="address-input-container">
        <button
          class="navigate-button"
          (click)="navigateToAddress($event, order.address)"
          title="Open in Google Maps"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
            <circle cx="12" cy="10" r="3"></circle>
          </svg>
        </button>
      </div>
    </td>
    <td>{{ order.orderNumber }}</td>
    <td>
      <p *ngFor="let item of order.items">
        ({{ item.quantity }})-{{ item.food.name }}
      </p>
    </td>
    <td>{{ order.totalPrice }} NIS</td>
    <td>
      {{ order.createdAt }}
    </td>
    <td>
      <span class="material-symbols-outlined" title="Confirm"> priority </span>
      <span class="material-symbols-outlined"> more_vert </span>
      <span class="material-symbols-outlined" title="Edit"> edit_square </span>
      <span class="material-symbols-outlined"> more_vert </span>
      <span class="material-symbols-outlined" title="Delete"> delete </span>
    </td>
  </tr>
</table>
